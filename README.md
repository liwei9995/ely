# ğŸ¾ ely ğŸ¾

ä¸€ä¸ªå¯ä»¥å¿«é€Ÿè¯»å–å’Œæ‰§è¡Œé¡¹ç›®å‘½ä»¤çš„ CLI å·¥å…·ã€‚

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node Version](https://img.shields.io/badge/node-%3E%3D24.12.0-brightgreen.svg)](https://nodejs.org/)
[![JSR](https://jsr.io/badges/@yiyi/ely)](https://jsr.io/@yiyi/ely)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ£ **äº¤äº’å¼é€‰æ‹©å‘½ä»¤**: è‡ªåŠ¨è¯»å–å½“å‰ç›®å½•ä¸‹çš„ `package.json` ä¸­çš„ `scripts`ï¼Œæä¾›äº¤äº’å¼ç•Œé¢é€‰æ‹©å¹¶æ‰§è¡Œ
- ğŸ”– **åˆ«åç®¡ç†**: ä¸ºå¸¸ç”¨å‘½ä»¤è®¾ç½®ç®€çŸ­åˆ«åï¼Œæé«˜å¼€å‘æ•ˆç‡
  - æ”¯æŒæ¨¡ç³ŠåŒ¹é…æœç´¢åˆ«å
  - æ”¯æŒå¤šé€‰åˆ é™¤ï¼Œä¸€æ¬¡åˆ é™¤å¤šä¸ªåˆ«å
  - è‡ªåŠ¨ç”Ÿæˆ Shell åˆ«åè„šæœ¬
- ğŸš€ **è‡ªåŠ¨æ£€æµ‹åŒ…ç®¡ç†å™¨**: è‡ªåŠ¨è¯†åˆ«é¡¹ç›®ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ï¼ˆnpmã€pnpmã€yarnã€bunï¼‰
- ğŸ’¾ **åˆ«åæŒä¹…åŒ–**: åˆ«åé…ç½®ä¿å­˜åœ¨ `~/.ely/aliases.json`ï¼Œè·¨é¡¹ç›®å¯ç”¨
- ğŸ¯ **æ™ºèƒ½å‘½ä»¤æ‰§è¡Œ**: è‡ªåŠ¨å°† `node_modules/.bin` æ·»åŠ åˆ° PATHï¼Œç¡®ä¿æœ¬åœ°å®‰è£…çš„å‘½ä»¤å¯ä»¥æ­£å¸¸æ‰§è¡Œ

## ğŸ“¦ å®‰è£…

é¡¹ç›®é€šè¿‡ [JSR](https://jsr.io) (JavaScript Registry) å‘å¸ƒï¼Œæ”¯æŒé€šè¿‡ npm/pnpm å…¨å±€å®‰è£…ã€‚

```bash
# ä½¿ç”¨ pnpmï¼ˆæ¨èï¼‰
pnpm global add @yiyi/ely

# ä½¿ç”¨ npm
npm install -g @yiyi/ely

# ä½¿ç”¨ yarn
yarn global add @yiyi/ely

# ä½¿ç”¨ bun
bun add -g @yiyi/ely

# ä½¿ç”¨ Deno
deno install -A -n ely jsr:@yiyi/ely/ely
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### äº¤äº’å¼æ‰§è¡Œå‘½ä»¤

åœ¨é¡¹ç›®ç›®å½•ä¸‹ç›´æ¥è¿è¡Œ `ely`ï¼Œä¼šåˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ scripts å‘½ä»¤ä¾›é€‰æ‹©ï¼š

```bash
ely
```

å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ï¼ˆé€šè¿‡ lock æ–‡ä»¶ï¼‰ï¼Œå¹¶ä½¿ç”¨ç›¸åº”çš„å‘½ä»¤æ ¼å¼æ‰§è¡Œã€‚

### åˆ«åç®¡ç†

#### è®¾ç½®åˆ«å

```bash
ely alias:set
# æˆ–ä½¿ç”¨ç®€å†™
ely st
```

è¿™ä¼šæ‰“å¼€äº¤äº’å¼ç•Œé¢ï¼Œè®©ä½ ï¼š

1. ä» `package.json` çš„ scripts ä¸­é€‰æ‹©ä¸€ä¸ªè¦è®¾ç½®åˆ«åçš„å‘½ä»¤
2. è¾“å…¥ä¸€ä¸ªç®€çŸ­çš„åˆ«åï¼ˆåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€è¿å­—ç¬¦å’Œå†’å·ï¼‰
3. å¦‚æœåˆ«åå·²å­˜åœ¨ï¼Œä¼šæç¤ºæ˜¯å¦è¦†ç›–

å¦‚æœæ²¡æœ‰ `package.json` æˆ–æƒ³è®¾ç½®è‡ªå®šä¹‰åˆ«åï¼Œå¯ä»¥é€‰æ‹©è®¾ç½®è‡ªå®šä¹‰åˆ«åã€‚

**ç¤ºä¾‹**ï¼š

```bash
$ ely alias:set
ğŸ”– Set command alias
Select command to set alias for: dev
Enter alias: d
âœ“ Alias set successfully: d â†’ pnpm run dev
```

#### åˆ—å‡ºæ‰€æœ‰åˆ«å

```bash
ely alias:list
# æˆ–ä½¿ç”¨ç®€å†™
ely ls
```

è¿™ä¼šæ˜¾ç¤ºæ‰€æœ‰å·²é…ç½®çš„åˆ«åï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰åˆ«åå’Œç³»ç»Ÿé»˜è®¤åˆ«åã€‚

#### åˆ é™¤åˆ«å

```bash
ely alias:remove
# æˆ–ä½¿ç”¨ç®€å†™
ely rm
```

è¿™ä¼šæ‰“å¼€äº¤äº’å¼ç•Œé¢ï¼Œè®©ä½ ï¼š

1. è¾“å…¥åˆ«ååç§°è¿›è¡Œæœç´¢ï¼ˆæ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼Œç•™ç©ºæ˜¾ç¤ºæ‰€æœ‰åˆ«åï¼‰
2. ä»åŒ¹é…çš„åˆ«ååˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªè¦åˆ é™¤çš„åˆ«åï¼ˆä½¿ç”¨ Space é”®å¤šé€‰ï¼‰
3. æŒ‰ Enter ç¡®è®¤åˆ é™¤

**åŠŸèƒ½ç‰¹æ€§**ï¼š

- ğŸ” **æ¨¡ç³ŠåŒ¹é…æœç´¢**ï¼šæ”¯æŒéƒ¨åˆ†åŒ¹é…å’Œæ¨¡ç³Šæœç´¢ï¼Œå¿«é€Ÿæ‰¾åˆ°ç›®æ ‡åˆ«å
- âœ… **å¤šé€‰åˆ é™¤**ï¼šå¯ä»¥ä¸€æ¬¡é€‰æ‹©å¹¶åˆ é™¤å¤šä¸ªåˆ«åï¼Œæé«˜æ•ˆç‡
- ğŸ·ï¸ **æ ‡è¯†è‡ªå®šä¹‰åˆ«å**ï¼šåˆ—è¡¨ä¸­ä¼šæ ‡è®°å“ªäº›æ˜¯è‡ªå®šä¹‰åˆ«å

#### åˆå§‹åŒ–åˆ«åè„šæœ¬

```bash
ely alias:init
# æˆ–ä½¿ç”¨ç®€å†™
ely it
```

è¿™ä¼šè‡ªåŠ¨ï¼š

1. ç”Ÿæˆ Shell åˆ«åè„šæœ¬æ–‡ä»¶ï¼ˆä¿å­˜åœ¨ `~/.ely/aliases.sh`ï¼‰
2. è‡ªåŠ¨æ£€æµ‹å¹¶é…ç½® shell é…ç½®æ–‡ä»¶ï¼ˆ`.zshrc`ã€`.bashrc` ç­‰ï¼‰
3. æ·»åŠ å¿…è¦çš„ source å‘½ä»¤åˆ° shell é…ç½®ä¸­

**é¦–æ¬¡ä½¿ç”¨**ï¼š

- é¦–æ¬¡è¿è¡Œ `ely` æ—¶ä¼šæç¤ºæ˜¯å¦åˆå§‹åŒ–åˆ«å
- ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿è¡Œ `ely alias:init` è¿›è¡Œåˆå§‹åŒ–æˆ–ä¿®å¤é…ç½®

**ä½¿ç”¨åˆ«å**ï¼š

åˆå§‹åŒ–åï¼Œåˆ«åä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡æ‰“å¼€ç»ˆç«¯æ—¶åŠ è½½ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ï¼š

```bash
dev      # ç­‰åŒäº pnpm run dev (æ ¹æ®æ£€æµ‹åˆ°çš„åŒ…ç®¡ç†å™¨)
build    # ç­‰åŒäº pnpm run build
```

### æŸ¥çœ‹å¸®åŠ©

```bash
ely --help
# æˆ–ä½¿ç”¨ç®€å†™
ely -h
```

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

å‡è®¾ä½ çš„ `package.json` ä¸­æœ‰ä»¥ä¸‹ scriptsï¼š

```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "test": "vitest"
  }
}
```

è¿è¡Œ `ely` åä¼šæ˜¾ç¤ºï¼š

```
ğŸ£ Select a command to run
è¯·é€‰æ‹©ä¸€ä¸ªå‘½ä»¤:
  dev â†’ vite
  build â†’ vite build
  preview â†’ vite preview
  test â†’ vitest
```

é€‰æ‹©åä¼šè‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ã€‚

## âš™ï¸ é…ç½®

### é…ç½®æ–‡ä»¶ä½ç½®

åˆ«åé…ç½®ä¿å­˜åœ¨ `~/.ely/aliases.json`ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```json
{
  "aliases": {
    "dev": "pnpm run dev",
    "b": "pnpm run build"
  },
  "removedAliases": []
}
```

**é…ç½®è¯´æ˜**ï¼š

- `aliases`: è‡ªå®šä¹‰åˆ«åæ˜ å°„ï¼Œé”®ä¸ºåˆ«ååç§°ï¼Œå€¼ä¸ºå¯¹åº”çš„å‘½ä»¤ï¼ˆåŒ…å«åŒ…ç®¡ç†å™¨ï¼‰
- `removedAliases`: è¢«åˆ é™¤çš„ç³»ç»Ÿé»˜è®¤åˆ«ååˆ—è¡¨ï¼ˆç”¨äºé˜²æ­¢é‡æ–°åŠ è½½ï¼‰

åˆ«åè„šæœ¬æ–‡ä»¶ä¿å­˜åœ¨ `~/.ely/aliases.sh`ï¼Œç”±å·¥å…·è‡ªåŠ¨ç”Ÿæˆå’Œç®¡ç†ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘ã€‚

### ç¯å¢ƒå˜é‡

- `ELY_SKIP_INIT_PROMPT`: è®¾ç½®ä¸ºä»»æ„å€¼å¯è·³è¿‡é¦–æ¬¡è¿è¡Œæ—¶çš„åˆå§‹åŒ–æç¤º
- `ELY_EVAL_MODE`: è®¾ç½®ä¸º `1` æ—¶å¯ç”¨ eval æ¨¡å¼ï¼ˆç”¨äºè‡ªåŠ¨ sourceï¼‰

## ğŸ”§ åŒ…ç®¡ç†å™¨æ£€æµ‹

å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ï¼Œæ£€æµ‹é¡ºåºå¦‚ä¸‹ï¼š

1. æ£€æŸ¥ `pnpm-lock.yaml` â†’ ä½¿ç”¨ `pnpm`
2. æ£€æŸ¥ `yarn.lock` â†’ ä½¿ç”¨ `yarn`
3. æ£€æŸ¥ `package-lock.json` â†’ ä½¿ç”¨ `npm`
4. æ£€æŸ¥ `bun.lockb` â†’ ä½¿ç”¨ `bun`
5. å¦‚æœéƒ½æ²¡æœ‰ï¼Œé»˜è®¤ä½¿ç”¨ `npm`

æ£€æµ‹åˆ°çš„åŒ…ç®¡ç†å™¨ä¼šç”¨äºï¼š

- æ‰§è¡Œå‘½ä»¤æ—¶çš„å‘½ä»¤æ ¼å¼ï¼ˆå¦‚ `pnpm run dev`ï¼‰
- è®¾ç½®åˆ«åæ—¶ä¿å­˜çš„å‘½ä»¤æ ¼å¼

## ğŸ› ï¸ å¼€å‘

### é¡¹ç›®ç»“æ„

```
ely/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ alias/          # åˆ«åç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ generator.ts    # åˆ«åè„šæœ¬ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ manager.ts      # åˆ«åç®¡ç†é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ui.ts           # UI æ˜¾ç¤º
â”‚   â”‚   â”œâ”€â”€ validator.ts    # éªŒè¯å·¥å…·
â”‚   â”‚   â””â”€â”€ index.ts        # å¯¼å‡º
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ package-manager.ts  # åŒ…ç®¡ç†å™¨æ£€æµ‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ cli.ts          # CLI å…¥å£
â”‚   â”œâ”€â”€ commands.ts     # å‘½ä»¤æ‰§è¡Œ
â”‚   â”œâ”€â”€ config.ts       # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ constants.ts    # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ shell.ts        # Shell ç›¸å…³
â”‚   â”œâ”€â”€ types.ts        # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts        # ä¸»å…¥å£
â”œâ”€â”€ scripts/            # æ„å»ºè„šæœ¬
â”œâ”€â”€ dist/               # ç¼–è¯‘è¾“å‡º
â””â”€â”€ package.json
```

### å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
pnpm dev

# æ„å»º
pnpm build

# ç±»å‹æ£€æŸ¥
pnpm typecheck

# ä»£ç æ£€æŸ¥
pnpm check

# æ ¼å¼åŒ–ä»£ç 
pnpm format
```

### æŠ€æœ¯æ ˆ

- **TypeScript**: ç±»å‹å®‰å…¨
- **@clack/prompts**: äº¤äº’å¼ CLI ç•Œé¢
- **cross-spawn**: è·¨å¹³å°å‘½ä»¤æ‰§è¡Œ
- **mri**: å‘½ä»¤è¡Œå‚æ•°è§£æ
- **picocolors**: ç»ˆç«¯é¢œè‰²è¾“å‡º

## ğŸ“ è®¸å¯è¯

MIT

## ğŸ‘¤ ä½œè€…

Alex Li

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ æ›´æ–°æ—¥å¿—

### v0.0.5

- âœ¨ åˆå§‹ç‰ˆæœ¬
- ğŸ£ äº¤äº’å¼å‘½ä»¤é€‰æ‹©
- ğŸ”– åˆ«åç®¡ç†åŠŸèƒ½
- ğŸš€ åŒ…ç®¡ç†å™¨è‡ªåŠ¨æ£€æµ‹
- ğŸ’¾ åˆ«åæŒä¹…åŒ–
